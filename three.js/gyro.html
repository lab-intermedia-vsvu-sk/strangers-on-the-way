<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        html, body{
            padding: 0px;
            margin: 0px;
        }
    </style>
</head>
<body>
    <div id="container">
        <script src="js/three.js"></script>
        <script src="js/DeviceOrientationControls.js"></script>
        <script>
            // Set the scene size.
            const WIDTH = window.innerWidth;
            const HEIGHT = window.innerHeight;

            // Set some camera attributes.
            const VIEW_ANGLE = 31;
            const ASPECT = WIDTH / HEIGHT;
            const NEAR = 0.1;
            const FAR = 10000;

            
            // Get the DOM element to attach to
            const container =
                document.querySelector('#container');

            


            // Create a WebGL renderer, camera
            // and a scene
            const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setClearColor( 0x000000, 0 );
            const camera =
                new THREE.PerspectiveCamera(
                    VIEW_ANGLE,
                    ASPECT,
                    NEAR,
                    FAR
                );

            const scene = new THREE.Scene();
            //scene.fog = new THREE.Fog( 0xffffff, 2000, 10000 );

            // Add the camera to the scene.
            scene.add(camera);

            

            // Start the renderer.
            renderer.setSize(WIDTH, HEIGHT);

            // Attach the renderer-supplied
            // DOM element.
            container.appendChild(renderer.domElement);
            
            // Set up the sphere vars
            const RADIUS = 50;
            const SEGMENTS = 16;
            const RINGS = 16;

            // create the sphere's material
            const sphereMaterial =
            new THREE.MeshLambertMaterial(
                {
                color: 0xCC0000
                });

            // Create a new mesh with
            // sphere geometry - we will cover
            // the sphereMaterial next!
            const sphere = new THREE.Mesh(

                new THREE.BoxGeometry(
                    RADIUS,
                    RADIUS,
                    RADIUS,
                    SEGMENTS,
                    RINGS),

            sphereMaterial);

            // Move the Sphere back in Z so we
            // can see it.
            sphere.position.z = -300;

            // Finally, add the sphere to the scene.
            scene.add(sphere);

            /*
            //decalare gyroscope
            const gyro = new THREE.Gyroscope();
            //set the initial position of the gyroscope
            gyro.position.set(0,0,0);
            //gyro.scale.set(x,y,z);
            // add gyroscope
            scene.add(gyro);
            // add camera to gyroscope
            gyro.add(camera);
            spehere.add(gyro);*/

            controls = new THREE.DeviceOrientationControls( camera );

            // create a point light
            const pointLight =
            new THREE.PointLight(0xFFFFFF);

            // set its position
            pointLight.position.x = 10;
            pointLight.position.y = 50;
            pointLight.position.z = 130;

            // add to the scene
            scene.add(pointLight);

            // Draw!
            renderer.render(scene, camera);

            function update () {
                // Draw!
                renderer.render(scene, camera);

                controls.update();

                //camera.lookAt(sphere);
                // Schedule the next frame.
                requestAnimationFrame(update);
            }

            // Schedule the first frame.
            requestAnimationFrame(update);
        </script>
    </div>
</body>
</html>